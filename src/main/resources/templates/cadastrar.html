<!DOCTYPE html>
<html lang="en">
<head th:replace="~{fragmentos/head :: head('Sabrina Art & Nails', 'css/login.css')}"></head>
<body>
<header th:replace="~{fragmentos/header :: headerGrande}"></header>
<div th:replace="~{fragmentos/header :: headerPequeno}"></div>
<main class="bg-pastel py-5">
  <div class="login-container">
    <div class="login-header">
      <h2>Criar Conta</h2>
    </div>
    <form action="/cadastrar" method="post">
      <div class="mb-3">
        <label for="fullName" class="form-label">Nome Completo</label>
        <input name="name" type="text" class="form-control" id="fullName" required>
      </div>
      <div class="mb-3">
        <label for="celular" class="form-label">Celular</label>
        <input type="tel" class="form-control" id="celular" required
               pattern="\(\d{2}\) \d{5}-\d{4}" title="Digite o celular no formato (XX) XXXXX-XXXX">
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" required>
      </div>
      <div class="mb-3">
        <label for="confirmEmail" class="form-label">Confirmação de Email</label>
        <input name="email" type="email" class="form-control" id="confirmEmail" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Senha</label>
        <input type="password" class="form-control" id="password" required>
      </div>
      <div class="mb-3">
        <label for="confirmPassword" class="form-label">Confirmação de Senha</label>
        <input name="password" type="password" class="form-control" id="confirmPassword" required>
      </div>
      <p class="login-erro" th:text="${error}"></p>
      <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
    </form>
    <div class="login-footer">
      <p>Já tem uma conta? <a href="login">Entre aqui</a></p>
    </div>
  </div>
</main>
<footer th:replace="~{fragmentos/footer :: footer}"></footer>
<script th:replace="~{fragmentos/bootStrap :: script}"></script>
<script>
  // Máscara de celular
  document.getElementById('celular').addEventListener('input', function(e) {
    let v = e.target.value.replace(/\D/g, '');
    if (v.length > 10) {
      v = `(${v.slice(0, 2)}) ${v.slice(2, 7)}-${v.slice(7, 11)}`;
    } else if (v.length > 6) {
      v = `(${v.slice(0, 2)}) ${v.slice(2, 6)}-${v.slice(6, 10)}`;
    } else if (v.length > 2) {
      v = `(${v.slice(0, 2)}) ${v.slice(2)}`;
    }
    e.target.value = v;
  });
</script>
</body>
</html>
